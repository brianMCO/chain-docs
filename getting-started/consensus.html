<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Consensus | Crypto.com Chain</title>
    <meta name="description" content="Welcome to Crypto.com Chain&#39;s documentation!">
    
    
    <link rel="preload" href="/chain-docs/assets/css/0.styles.f91b77af.css" as="style"><link rel="preload" href="/chain-docs/assets/js/app.2d891d29.js" as="script"><link rel="preload" href="/chain-docs/assets/js/2.faa21682.js" as="script"><link rel="preload" href="/chain-docs/assets/js/9.304b82fe.js" as="script"><link rel="prefetch" href="/chain-docs/assets/js/10.73efb3c0.js"><link rel="prefetch" href="/chain-docs/assets/js/11.6b21363d.js"><link rel="prefetch" href="/chain-docs/assets/js/12.5585ffd4.js"><link rel="prefetch" href="/chain-docs/assets/js/13.6aba041b.js"><link rel="prefetch" href="/chain-docs/assets/js/14.9c5b06b2.js"><link rel="prefetch" href="/chain-docs/assets/js/15.bfb345d6.js"><link rel="prefetch" href="/chain-docs/assets/js/16.2d6c9435.js"><link rel="prefetch" href="/chain-docs/assets/js/17.305ce18d.js"><link rel="prefetch" href="/chain-docs/assets/js/18.1f273f5f.js"><link rel="prefetch" href="/chain-docs/assets/js/19.2d739ed4.js"><link rel="prefetch" href="/chain-docs/assets/js/20.834fbdab.js"><link rel="prefetch" href="/chain-docs/assets/js/3.dd5706d6.js"><link rel="prefetch" href="/chain-docs/assets/js/4.81da6feb.js"><link rel="prefetch" href="/chain-docs/assets/js/5.509d06a8.js"><link rel="prefetch" href="/chain-docs/assets/js/6.4fbfe872.js"><link rel="prefetch" href="/chain-docs/assets/js/7.88433caf.js"><link rel="prefetch" href="/chain-docs/assets/js/8.e854ffd3.js">
    <link rel="stylesheet" href="/chain-docs/assets/css/0.styles.f91b77af.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/chain-docs/" class="home-link router-link-active"><!----> <span class="site-name">Crypto.com Chain</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/chain-docs/" class="nav-link">Home</a></div><div class="nav-item"><a href="/chain-docs/getting-started/" class="nav-link router-link-active">Getting Started</a></div><div class="nav-item"><a href="https://github.com/crypto-com/chain/tree/master/client-rpc" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Client RPC
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://crypto-com.github.io/Crypto.com_Chain.pdf" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Download
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/chain-docs/" class="nav-link">Home</a></div><div class="nav-item"><a href="/chain-docs/getting-started/" class="nav-link router-link-active">Getting Started</a></div><div class="nav-item"><a href="https://github.com/crypto-com/chain/tree/master/client-rpc" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Client RPC
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://crypto-com.github.io/Crypto.com_Chain.pdf" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Download
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/chain-docs/getting-started/" class="sidebar-link">Getting Started</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/#pre-requisites" class="sidebar-link">Pre-requisites</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/#how-it-works" class="sidebar-link">How it works</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/#compile-enclave" class="sidebar-link">Compile enclave</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/#setup-path" class="sidebar-link">Setup path</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/#install-rust" class="sidebar-link">Install Rust</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/#install-tendermint" class="sidebar-link">Install Tendermint</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/#get-source-code" class="sidebar-link">Get source code</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/#compile-chain-abci" class="sidebar-link">Compile chain-abci</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/#run-the-program" class="sidebar-link">Run the program</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/#other-information" class="sidebar-link">Other information</a></li></ul></li><li><a href="/chain-docs/getting-started/consensus.html" class="active sidebar-link">Consensus</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/consensus.html#client-interacting-with-the-blockchain" class="sidebar-link">Client: Interacting with the blockchain</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/consensus.html#app-hash" class="sidebar-link">APP HASH</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/consensus.html#conventions" class="sidebar-link">Conventions</a></li></ul></li><li><a href="/chain-docs/getting-started/genesis.html" class="sidebar-link">Genesis</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/genesis.html#tendermint-extra-information" class="sidebar-link">Tendermint extra information</a></li></ul></li><li><a href="/chain-docs/getting-started/transaction-accounting-model.html" class="sidebar-link">Transaction Accounting Model</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/transaction-accounting-model.html#motivation" class="sidebar-link">Motivation</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/transaction-accounting-model.html#utxo-accounts-model" class="sidebar-link">UTXO+Accounts model</a></li></ul></li><li><a href="/chain-docs/getting-started/transaction.html" class="sidebar-link">Transaction</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/transaction.html#transaction-identifier" class="sidebar-link">Transaction Identifier</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/transaction.html#witness" class="sidebar-link">Witness</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/transaction.html#textual-address-representation" class="sidebar-link">Textual Address Representation</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/transaction.html#transaction-fees" class="sidebar-link">Transaction Fees</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/transaction.html#transaction-types" class="sidebar-link">Transaction Types</a></li></ul></li><li><a href="/chain-docs/getting-started/serialization.html" class="sidebar-link">Serialization</a></li><li><a href="/chain-docs/getting-started/signature-schemes.html" class="sidebar-link">Signature Schemes</a></li><li><a href="/chain-docs/getting-started/client-flow.html" class="sidebar-link">Client Flow</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/client-flow.html#block-level-filtering" class="sidebar-link">Block-level filtering</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/client-flow.html#client-knows-transaction" class="sidebar-link">Client knows transaction</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/client-flow.html#client-doesn’t-know-transaction-data" class="sidebar-link">Client doesn’t know transaction data</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/client-flow.html#payment-transaction-submission" class="sidebar-link">Payment transaction submission</a></li></ul></li><li><a href="/chain-docs/getting-started/enclave-architecture.html" class="sidebar-link">Enclave Architecture</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/enclave-architecture.html#technology" class="sidebar-link">Technology</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/enclave-architecture.html#transaction-validation" class="sidebar-link">Transaction validation</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/enclave-architecture.html#transaction-data-bootstrapping" class="sidebar-link">Transaction data bootstrapping</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/enclave-architecture.html#transaction-querying" class="sidebar-link">Transaction querying</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/enclave-architecture.html#transaction-creation" class="sidebar-link">Transaction creation</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/enclave-architecture.html#enclave-breaches" class="sidebar-link">Enclave breaches</a></li></ul></li><li><a href="/chain-docs/getting-started/transaction-privacy.html" class="sidebar-link">Transaction Privacy</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/transaction-privacy.html#motivation" class="sidebar-link">Motivation</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/transaction-privacy.html#payloads" class="sidebar-link">Payloads</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/transaction-privacy.html#periodic-key-generation" class="sidebar-link">Periodic key generation</a></li></ul></li><li><a href="/chain-docs/getting-started/staking.html" class="sidebar-link">Staking</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/staking.html#account" class="sidebar-link">Account</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/staking.html#council-node" class="sidebar-link">Council Node</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/staking.html#service-node" class="sidebar-link">Service Node</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/staking.html#transaction-fee" class="sidebar-link">Transaction Fee</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/staking.html#rewards" class="sidebar-link">Rewards</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/staking.html#slashing" class="sidebar-link">Slashing</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/staking.html#“global-state”-app-hash" class="sidebar-link">“Global state” / APP_HASH</a></li></ul></li><li><a href="/chain-docs/getting-started/notes-on-production-deployment.html" class="sidebar-link">Notes on Production Deployment</a></li><li><a href="/chain-docs/getting-started/notes-on-performance.html" class="sidebar-link">Notes on Performance</a></li><li><a href="/chain-docs/getting-started/threat-model.html" class="sidebar-link">Threat Model</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/threat-model.html#severity" class="sidebar-link">Severity</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/threat-model.html#exploitability" class="sidebar-link">Exploitability</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/threat-model.html#assets" class="sidebar-link">Assets</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/threat-model.html#scope" class="sidebar-link">Scope</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/threat-model.html#system-diagram" class="sidebar-link">System Diagram</a></li><li class="sidebar-sub-header"><a href="/chain-docs/getting-started/threat-model.html#result" class="sidebar-link">Result</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="consensus"><a href="#consensus" aria-hidden="true" class="header-anchor">#</a> Consensus</h1> <p>Crypto.com Chain prototype uses Tendermint Core as its consensus algorithm.</p> <p>It utilizes the ABCI (Application BlockChain Interface).</p> <p>This allows &quot;plugging&quot; custom applications with Tendermint.</p> <p>If the application is written in Go, it can be linked directly; if it's written in other languages, it communicates over 3 TCP or Unix sockets.</p> <p>The details of this interface can be found on: <a href="https://tendermint.com/docs/spec/abci/abci.html#overview" target="_blank" rel="noopener noreferrer">tendermint.com/docs/spec/abci/abci.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>As Crypto.com Chain Core code is written in Rust, we utilize (and aim to continually improve) the <a href="https://github.com/tendermint/rust-abci/" target="_blank" rel="noopener noreferrer">rust-abci<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> library.</p> <p>What is executed when by the consensus engine and by the ABCI application can be seen in <a href="https://blog.cosmos.network/tendermint-in-a-nutshell-39d9f7f66ad7" target="_blank" rel="noopener noreferrer">this diagram<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h2 id="client-interacting-with-the-blockchain"><a href="#client-interacting-with-the-blockchain" aria-hidden="true" class="header-anchor">#</a> Client: Interacting with the blockchain</h2> <p>To query a blockchain or submit a transaction, one can use the Tendermint RPC for that.</p> <p>The details of the RPC mechanism can be found on: <a href="https://tendermint.com/rpc/#introduction" target="_blank" rel="noopener noreferrer">tendermint.com/rpc/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>Currently, it supports 3 methods:</p> <ol><li>URI over HTTP</li> <li>JSON-RPC over HTTP</li> <li>JSON-RPC over WebSockets</li></ol> <p>The RPC HTTP server is executed on every full node. The RPC methods are equivalent, but WebSockets allow realtime subscription to different events.</p> <p>Note that Tendermint RPC is for internal use only, as it doesn’t support rate-limiting, authentication etc., so it shouldn’t be directly exposed to the internet.</p> <p>At this moment, it’s also recommended to use <code>tendermint lite</code> as a local proxy for the Chain client libraries when connecting to remote full nodes.</p> <p>The Chain client interaction with Tendermint is currently done via a custom <code>client-rpc</code> crate.</p> <p>The main RPC methods are used <code>broadcast_tx_(a)sync</code> and <code>abci_query</code>.</p> <table><thead><tr><th>broadcast_tx_(a)sync</th></tr></thead> <tbody></tbody></table> <p>This method takes “tx” parameter which is application-specific binary data (see <a href="./serialization">transaction serialization</a> for details on Chain binary format). The transaction binary payload is either hex-encoded (when called with the URI method) or base64-encoded (when called with JSON-RPC).</p> <table><thead><tr><th>abci_query</th></tr></thead> <tbody></tbody></table> <p>Currently the main usage is that given a path “account”, one can query the current “staked state” of some address (which is provided as the “data” field).</p> <h2 id="app-hash"><a href="#app-hash" aria-hidden="true" class="header-anchor">#</a> APP HASH</h2> <p>Tendermint expects the ABCI application to be deterministic and consistency is checked that each instance, given the same input (block/consensus events + transaction data), updates its state in the same way and calculates the same “application hash” which is a compact representation of the overall ABCI application state.</p> <p>In Chain, it is a Blake2s hash of several components:</p> <ul><li>root of a Merkle tree of a valid transactions in a given block</li> <li>root of a sparse Merkle trie of staked states (see <a href="./transaction-accounting-model">accounting details</a>)</li> <li>binary serialized state of rewards pool (see <a href="./serialization">serialization</a> for details on Chain binary format and <a href="./genesis">genesis</a> for details on “state”)</li></ul> <h2 id="conventions"><a href="#conventions" aria-hidden="true" class="header-anchor">#</a> Conventions</h2> <p>As <a href="./genesis">genesis</a> information is taken from the Ethereum network, the same address format is used (i.e. hexadecimal encoding of 20-bytes from a keccak-256 hash of a secp256k1 public key).</p> <p>For Tendermint data, its conventions must be followed (e.g. validator keys are Ed25519, base64-encoded … “addresses” are the first 20 bytes of SHA256 of the raw public key bytes).</p> <p>For Crypto.com Chain, it has the following conventions:</p> <ul><li>Chain-ID: this is a string in Tendermint’s genesis.json. In Crypto.com Chain, it should end with two hex digits.</li> <li>Network-ID: a single byte determined by the two last hex digits of Chain-ID. It is included in metadata of every transaction</li> <li>Transactions, addresses etc.: see transaction <a href="./serialization">binary serialization</a>, <a href="./transaction-accounting-model">accounting model</a>, <a href="./signature-schemes">addresses / witness</a> and <a href="./transaction">format / types</a></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/chain-docs/getting-started/" class="prev router-link-active">
          Getting Started
        </a></span> <span class="next"><a href="/chain-docs/getting-started/genesis.html">
          Genesis
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/chain-docs/assets/js/app.2d891d29.js" defer></script><script src="/chain-docs/assets/js/2.faa21682.js" defer></script><script src="/chain-docs/assets/js/9.304b82fe.js" defer></script>
  </body>
</html>
